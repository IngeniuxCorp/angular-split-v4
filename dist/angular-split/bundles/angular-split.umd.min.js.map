{"version":3,"sources":["ng://angular-split/browserService.ts","ng://angular-split/cookieService.ts","ng://angular-split/splitStateService.ts","ng://angular-split/split.component.ts","ng://angular-split/splitArea.directive.ts","ng://angular-split/splitGutter.directive.ts","ng://angular-split/angularSplit.module.ts"],"names":["BrowserService","isIE","ua","window","navigator","userAgent","msie","indexOf","parseInt","substring","rv","edge","CookieService","prototype","get","cookieName","cookieList","top","document","cookie","split","cookieValue","i","length","decodeURIComponent","name","value","set","isPermanent","arguments","cookieToken","expDate","Date","setDate","getDate","toUTCString","SplitStateService","cookieService","this","splitName","saveState","visibleAreaStates","JSON","stringify","loadState","cookieVal","parse","__decorate","Injectable","SplitComponent","splitStateService","cdRef","elementRef","renderer","direction","gutterSize","disabled","animateAreaToggle","dragStart","EventEmitter","dragProgress","dragEnd","saveStates","_coverDisplay","BehaviorSubject","coverDisplay","asObservable","_visibleTransitionEndSub","visibleTransitionEnd","minPercent","areas","isDragging","containerSize","areaASize","areaBSize","eventsDragFct","Object","defineProperty","val","width","isNaN","height","filter","a","component","visible","visibleAreas","ngOnChanges","changes","refresh","ngAfterViewInit","state","forEach","size","addArea","orderUser","sizeUser","minPixel","push","order","updateArea","item","find","removeArea","area","index","splice","hideArea","_saveState","showArea","isLastVisibleArea","_this","stopDragging","sort","b","setStyle","totalSize","map","reduce","acc","s","nbCorrectSize","size_1","Number","toFixed","refreshStyleSizes","markForCheck","f","nbGutters","notify","startDragging","startEvent","gutterOrder","preventDefault","areaA","areaB","start","prop","nativeElement","MouseEvent","x","screenX","y","screenY","TouchEvent","touches","listen","e","dragEvent","lockEvents","next","event","end","drag","offsetPixel","newSizePixelA","newSizePixelB","newSizePercentA","newSizePercentB","unlockEvents","fct","pop","type","data","emit","ngOnDestroy","ChangeDetectorRef","ElementRef","Renderer2","Input","Output","Observable","HostBinding","__decorate$1","Component","selector","changeDetection","ChangeDetectionStrategy","OnPush","template","SplitAreaDirective","_order","_size","_minSizePixel","_visible","visibility","eventsLockFct","v","ngOnInit","key","onSizingTransitionEnd","evt","propertyName","__decorate$2","Directive","host","[style.flex-grow]","[style.flex-shrink]","[style.overflow-x]","[style.overflow-y]","[style.height]","[class.notshow]","(transitionend)","SplitGutterDirective","_disabled","_direction","refreshStyle","getCursor","getImage","__decorate$3","AngularSplitModule","__decorate$4","NgModule","imports","CommonModule","declarations","exports","providers"],"mappings":"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","sourcesContent":["\r\n\r\nexport class BrowserService {\r\n\tpublic static isIE(): number | boolean {\r\n\t\tvar ua = window.navigator.userAgent;\r\n\r\n\t\t// Test values; Uncomment to check result …\r\n\r\n\t\t// IE 10\r\n\t\t// ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n\t\t// IE 11\r\n\t\t// ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n\t\t// IE 12 / Spartan\r\n\t\t// ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n\t\t// Edge (IE 12+)\r\n\t\t// ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n\t\tvar msie = ua.indexOf('MSIE ');\r\n\t\tif (msie > 0) {\r\n\t\t\t// IE 10 or older => return version number\r\n\t\t\treturn parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n\t\t}\r\n\r\n\t\tvar trident = ua.indexOf('Trident/');\r\n\t\tif (trident > 0) {\r\n\t\t\t// IE 11 => return version number\r\n\t\t\tvar rv = ua.indexOf('rv:');\r\n\t\t\treturn parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n\t\t}\r\n\r\n\t\tvar edge = ua.indexOf('Edge/');\r\n\t\tif (edge > 0) {\r\n\t\t\t// Edge (IE 12+) => return version number\r\n\t\t\treturn parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n\t\t}\r\n\r\n\t\t// other browser\r\n\t\treturn false;\r\n\t}\r\n}","export class CookieService {\r\n\tget(cookieName: string) {\r\n\t\tvar cookieList = window.top.document.cookie.split(\"; \");\r\n\t\tvar cookieValue = \"\";\r\n\r\n\t\tfor (var i = 0; i < cookieList.length; i++) {\r\n\t\t\t// separate name-value pairs\r\n\t\t\tvar cookie = decodeURIComponent(cookieList[i]);\r\n\t\t\tvar name = cookie.substring(0, cookie.indexOf(\"=\"));\r\n\t\t\tvar value = cookie.substring(cookie.indexOf(\"=\") + 1);\r\n\r\n\t\t\t// Compare the cookie name\r\n\t\t\tif (cookieName == name) {\r\n\t\t\t\tcookieValue = value;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (cookieValue == \"undefined\" || cookieValue == null)\r\n\t\t\tcookieValue = \"\";\r\n\r\n\t\treturn cookieValue;\r\n\t}\r\n\t\r\n\tset(name:string, value:string) {\r\n\t\tvar isPermanent = true;\r\n\r\n\t\t// if there are three arguments\r\n\t\tif (arguments.length == 3)\r\n\t\t{\r\n\t\t\tisPermanent = arguments[2];\r\n\t\t}\r\n\r\n\t\t// Create a cookie string to write to the cookie file\r\n\t\tvar cookieToken = name + \"=\" + decodeURIComponent(value) + \";\";\r\n\r\n\t\t// if this is a permanent cookie\r\n\t\tif (isPermanent == true)\r\n\t\t{\r\n\t\t\t// Set the expiration date of the cookie to be one year from now\r\n\t\t\tvar expDate = new Date();\r\n\t\t\texpDate.setDate(365 + expDate.getDate());\r\n\r\n\t\t\tcookieToken = cookieToken + \" \" + \r\n\t\t\t\t\t\t\"expires=\" + expDate.toUTCString() + \";\";\r\n\t\t}\r\n\r\n\t\twindow.top.document.cookie = cookieToken;\t\t\r\n\t}\r\n}","import { Injectable } from '@angular/core';\r\nimport { CookieService } from './cookieService';\r\n\r\nexport class SplitAreaState {\r\n\tsize: number;\r\n\tvisible: boolean;\r\n}\r\n\r\n@Injectable()\r\nexport class SplitStateService {\r\n\r\n\tsplitName = \"AngularSplit\";\r\n\r\n\tconstructor(private cookieService: CookieService) {\r\n\t}\r\n\r\n\tsaveState(visibleAreaStates: SplitAreaState[]) {\r\n\t\tthis.cookieService.set(this.splitName, JSON.stringify(visibleAreaStates));\r\n\t}\r\n\r\n\tloadState(): SplitAreaState[] {\r\n\t\tconst cookieVal = this.cookieService.get(this.splitName);\r\n\t\treturn cookieVal ? JSON.parse(cookieVal) : null;\r\n\t}\r\n}","import {\r\n    Component, ChangeDetectorRef, Input, Output, HostBinding, ElementRef, SimpleChanges,\r\n    ChangeDetectionStrategy, EventEmitter, Renderer2, OnDestroy, OnChanges\r\n} from '@angular/core';\r\n\r\nimport { Observable, Subscription, BehaviorSubject } from 'rxjs/Rx';\r\nimport { SplitAreaDirective } from './splitArea.directive';\r\nimport { SplitStateService, SplitAreaState } from './splitStateService';\r\nimport { BrowserService } from \"./browserService\";\r\n\r\nexport interface IAreaData {\r\n    component: SplitAreaDirective;\r\n    sizeUser: number | null;\r\n    size: number;\r\n    orderUser: number | null;\r\n    order: number;\r\n    minPixel: number;\r\n}\r\n\r\ninterface Point {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\n\r\n@Component({\r\n    selector: 'split',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    styles: [`\r\n        :host {\r\n            display: flex;\r\n            flex-wrap: nowrap;\r\n            justify-content: flex-start;\r\n            flex-direction: row;\r\n        }\r\n\r\n        :host.vertical {\r\n            flex-direction: column;\r\n        }\r\n\r\n        split-gutter {\r\n            flex-grow: 0;\r\n            flex-shrink: 0;\r\n            flex-basis: 10px;\r\n            height: 100%;\r\n            background-color: #eeeeee;\r\n            background-position: 50%;\r\n            background-repeat: no-repeat;\r\n        }\r\n\r\n        :host.vertical split-gutter {\r\n            width: 100%;\r\n        }\r\n\r\n        :host /deep/ split-area {\r\n            transition: flex-basis 0.3s;\r\n        }  \r\n\r\n        :host.notrans /deep/ split-area {\r\n            transition: none !important;\r\n        }      \r\n\r\n        :host /deep/ split-area.notshow {\r\n            flex-basis: 0 !important;\r\n            overflow: hidden !important;\r\n        }      \r\n\r\n        :host.vertical /deep/ split-area.notshow {\r\n            max-width: 0;\r\n            flex-basis: 0 !important;\r\n            overflow: hidden !important;\r\n        }\r\n    `],\r\n    template: `\r\n        <div #cover style=\"position:absolute;left:0;top:0;right:0;bottom:0;z-index:100;\"\r\n            [style.display]=\"coverDisplay | async\"></div>\r\n        <ng-content></ng-content>\r\n        <ng-template ngFor let-area [ngForOf]=\"areas\" let-index=\"index\" let-last=\"last\">\r\n            <split-gutter *ngIf=\"last === false && area.component.visible && !isLastVisibleArea(area)\" \r\n                          [order]=\"index*2+1\"\r\n                          [direction]=\"direction\"\r\n                          [size]=\"gutterSize\"\r\n                          [disabled]=\"disabled\"\r\n                          (mousedown)=\"startDragging($event, index*2+1)\"\r\n                          (touchstart)=\"startDragging($event, index*2+1)\"></split-gutter>\r\n        </ng-template>`,\r\n})\r\nexport class SplitComponent implements OnChanges, OnDestroy {\r\n    @Input() direction: string = 'horizontal';\r\n    @Input() width: number;\r\n    @Input() height: number;\r\n    @Input() gutterSize: number = 10;\r\n    @Input() disabled: boolean = false;\r\n    @Input() animateAreaToggle: boolean = false;\r\n\r\n    @Output() dragStart = new EventEmitter<Array<number>>(false);\r\n    @Output() dragProgress = new EventEmitter<Array<number>>(false);\r\n    @Output() dragEnd = new EventEmitter<Array<number>>(false);\r\n\r\n    @Input() saveStates: boolean = false;\r\n\r\n    @Input() set name(val: string) {\r\n        if (val)\r\n            this.splitStateService.splitName = val;\r\n    }\r\n\r\n    get name(): string {\r\n        return this.splitStateService.splitName;\r\n    }\r\n\r\n    private _coverDisplay = new BehaviorSubject<string>(\"none\");\r\n    coverDisplay: Observable<string> = this._coverDisplay.asObservable();\r\n\r\n    private _visibleTransitionEndSub: BehaviorSubject<Array<number>> = new BehaviorSubject<Array<number>>([]);\r\n    /**\r\n     * This event is fired when split area show/hide are done with animations completed.\r\n     * Make sure use debounceTime and distinctUntilChange before subscription,\r\n     * to handle the fact that adjacent split areas also triggering the event, during show/hide of single area.\r\n     */\r\n    @Output() visibleTransitionEnd: Observable<Array<number>> = this._visibleTransitionEndSub.asObservable();\r\n\r\n    @HostBinding('class.vertical') get styleFlexDirection() {\r\n        return this.direction === 'vertical';\r\n    }\r\n\r\n    @HostBinding('class.notrans') get dragging() {\r\n        // prevent animation of areas when animateAreaToggle is false, or resizing\r\n        return !this.animateAreaToggle || this.isDragging;\r\n    }\r\n\r\n    @HostBinding('style.width') get styleWidth() {\r\n        return (this.width && !isNaN(this.width) && this.width > 0) ? this.width + 'px' : '100%';\r\n    }\r\n\r\n    @HostBinding('style.height') get styleHeight() {\r\n        return (this.height && !isNaN(this.height) && this.height > 0) ? this.height + 'px' : '100%';\r\n    }\r\n\r\n    private get visibleAreas(): IAreaData[] {\r\n        return this.areas.filter(a => a.component.visible);\r\n    }\r\n\r\n    private get nbGutters(): number {\r\n        return this.visibleAreas.length - 1;\r\n    }\r\n\r\n    private minPercent: number = 5;\r\n    areas: Array<IAreaData> = [];\r\n    private isDragging: boolean = false;\r\n    private containerSize: number = 0;\r\n    private areaASize: number = 0;\r\n    private areaBSize: number = 0;\r\n    private eventsDragFct: Array<Function> = [];\r\n\r\n    constructor(\r\n        private splitStateService: SplitStateService,\r\n        private cdRef: ChangeDetectorRef,\r\n        private elementRef: ElementRef,\r\n        private renderer: Renderer2) { }\r\n\r\n    public ngOnChanges(changes: SimpleChanges) {\r\n        if (changes['gutterSize'] || changes['disabled']) {\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    public ngAfterViewInit() {\r\n        if (!this.saveStates)\r\n            return;\r\n\r\n        var state = this.splitStateService.loadState();\r\n        if (state && this.areas.length == state.length)\r\n            this.areas.forEach((a, i) => {\r\n                a.size = state[i].size;\r\n                a.component.visible = state[i].visible;\r\n            });\r\n\r\n        this.refresh();\r\n    }\r\n\r\n    public addArea(component: SplitAreaDirective, orderUser: number | null, sizeUser: number | null, minPixel: number) {\r\n        this.areas.push({\r\n            component,\r\n            orderUser,\r\n            order: -1,\r\n            sizeUser,\r\n            size: -1,\r\n            minPixel\r\n        });\r\n        // this._saveState();\r\n\r\n        this.refresh();\r\n    }\r\n\r\n    public updateArea(component: SplitAreaDirective, orderUser: number | null, sizeUser: number | null, minPixel: number) {\r\n        const item = this.areas.find(a => a.component === component);\r\n\r\n        if (item) {\r\n            item.orderUser = orderUser;\r\n            item.sizeUser = sizeUser;\r\n            item.minPixel = minPixel;\r\n            // this._saveState();\r\n\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    public removeArea(area: SplitAreaDirective) {\r\n        const item = this.areas.find(a => a.component === area);\r\n\r\n        if (item) {\r\n            const index = this.areas.indexOf(item);\r\n            this.areas.splice(index, 1);\r\n            this.areas.forEach((a, i) => a.order = i * 2);\r\n            // this._saveState();\r\n\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    public hideArea(area: SplitAreaDirective) {\r\n        const item = this.areas.find(a => a.component === area);\r\n\r\n        if (item) {\r\n            this._saveState();\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    public showArea(area: SplitAreaDirective) {\r\n        const item = this.areas.find(a => a.component === area);\r\n\r\n        if (item) {\r\n            this._saveState();\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    public isLastVisibleArea(area: IAreaData) {\r\n        var visibleAreas = this.areas.filter(a => a.component.visible);\r\n        return visibleAreas.length > 0 ? area === visibleAreas[visibleAreas.length - 1] : false;\r\n    }\r\n\r\n    private refresh() {\r\n\r\n        this.stopDragging();\r\n\r\n        let visibleAreas = this.visibleAreas;\r\n\r\n        // ORDERS: Set css 'order' property depending on user input or added order\r\n        const nbCorrectOrder = this.areas.filter(a => a.orderUser !== null && !isNaN(a.orderUser)).length;\r\n        if (nbCorrectOrder === this.areas.length) {\r\n            this.areas.sort((a, b) => +a.orderUser - +b.orderUser);\r\n        }\r\n\r\n        this.areas.forEach((a, i) => {\r\n            a.order = i * 2;\r\n            a.component.setStyle('order', a.order);\r\n        });\r\n\r\n        // SIZES: Set css 'flex-basis' property depending on user input or equal sizes\r\n        const totalSize = visibleAreas.map(a => a.sizeUser).reduce((acc, s) => acc + s, 0);\r\n        const nbCorrectSize = visibleAreas.filter(a => a.sizeUser !== null && !isNaN(a.sizeUser) && a.sizeUser >= this.minPercent).length;\r\n\r\n        if (totalSize < 99.99 || totalSize > 100.01 || nbCorrectSize !== visibleAreas.length) {\r\n            const size = Number((100 / visibleAreas.length).toFixed(3));\r\n            visibleAreas.forEach(a => a.size = size);\r\n        } else {\r\n            visibleAreas.forEach(a => a.size = Number(a.sizeUser));\r\n        }\r\n\r\n        this.refreshStyleSizes();\r\n        this.cdRef.markForCheck();\r\n    }\r\n\r\n    private refreshStyleSizes() {\r\n        let visibleAreas = this.visibleAreas;\r\n\r\n        const f = this.gutterSize * this.nbGutters / visibleAreas.length;\r\n        visibleAreas.forEach(a => a.component.setStyle('flex-basis', `calc( ${a.size}% - ${f}px )`));\r\n\r\n        if (BrowserService.isIE()) {\r\n            //ie and edge don't support flex-basis animation\r\n            //fire event right here\r\n            this.notify('visibleTransitionEnd');\r\n        }\r\n    }\r\n\r\n    public startDragging(startEvent: MouseEvent | TouchEvent, gutterOrder: number) {\r\n        startEvent.preventDefault();\r\n\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        const areaA = this.areas.find(a => a.order === gutterOrder - 1);\r\n        const areaB = this.areas.find(a => a.order === gutterOrder + 1);\r\n        if (!areaA || !areaB) {\r\n            return;\r\n        }\r\n\r\n        const prop = (this.direction === 'horizontal') ? 'offsetWidth' : 'offsetHeight';\r\n        this.containerSize = this.elementRef.nativeElement[prop];\r\n        this.areaASize = this.containerSize * areaA.size / 100;\r\n        this.areaBSize = this.containerSize * areaB.size / 100;\r\n\r\n        let start: Point;\r\n        if (startEvent instanceof MouseEvent) {\r\n            start = {\r\n                x: startEvent.screenX,\r\n                y: startEvent.screenY\r\n            };\r\n        } else if (startEvent instanceof TouchEvent) {\r\n            start = {\r\n                x: startEvent.touches[0].screenX,\r\n                y: startEvent.touches[0].screenY\r\n            };\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        //add the overlay transparent  cover to handle dragging over iframes\r\n\r\n        this.eventsDragFct.push(this.renderer.listen('document', 'mousemove', e => this.dragEvent(e, start, areaA, areaB)));\r\n        this.eventsDragFct.push(this.renderer.listen('document', 'touchmove', e => this.dragEvent(e, start, areaA, areaB)));\r\n        this.eventsDragFct.push(this.renderer.listen('document', 'mouseup', e => this.stopDragging()));\r\n        this.eventsDragFct.push(this.renderer.listen('document', 'touchend', e => this.stopDragging()));\r\n        this.eventsDragFct.push(this.renderer.listen('document', 'touchcancel', e => this.stopDragging()));\r\n\r\n        areaA.component.lockEvents();\r\n        areaB.component.lockEvents();\r\n\r\n        this.isDragging = true;\r\n        this._coverDisplay.next(\"block\");\r\n        this.notify('start');\r\n    }\r\n\r\n    private dragEvent(event: MouseEvent | TouchEvent, start: Point, areaA: IAreaData, areaB: IAreaData) {\r\n        if (!this.isDragging) {\r\n            return;\r\n        }\r\n\r\n        let end: Point;\r\n        if (event instanceof MouseEvent) {\r\n            end = {\r\n                x: event.screenX,\r\n                y: event.screenY\r\n            };\r\n        } else if (event instanceof TouchEvent) {\r\n            end = {\r\n                x: event.touches[0].screenX,\r\n                y: event.touches[0].screenY\r\n            };\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        this.drag(start, end, areaA, areaB);\r\n    }\r\n\r\n    private drag(start: Point, end: Point, areaA: IAreaData, areaB: IAreaData) {\r\n        const offsetPixel = (this.direction === 'horizontal') ? (start.x - end.x) : (start.y - end.y);\r\n\r\n        const newSizePixelA = this.areaASize - offsetPixel;\r\n        const newSizePixelB = this.areaBSize + offsetPixel;\r\n\r\n        if (newSizePixelA <= areaA.minPixel && newSizePixelB < areaB.minPixel) {\r\n            return;\r\n        }\r\n\r\n        let newSizePercentA = newSizePixelA / this.containerSize * 100;\r\n        let newSizePercentB = newSizePixelB / this.containerSize * 100;\r\n\r\n        if (newSizePercentA <= this.minPercent) {\r\n            newSizePercentA = this.minPercent;\r\n            newSizePercentB = areaA.size + areaB.size - this.minPercent;\r\n        } else if (newSizePercentB <= this.minPercent) {\r\n            newSizePercentB = this.minPercent;\r\n            newSizePercentA = areaA.size + areaB.size - this.minPercent;\r\n        } else {\r\n            newSizePercentA = Number(newSizePercentA.toFixed(3));\r\n            newSizePercentB = Number((areaA.size + areaB.size - newSizePercentA).toFixed(3));\r\n        }\r\n\r\n        areaA.size = newSizePercentA;\r\n        areaB.size = newSizePercentB;\r\n\r\n        this.refreshStyleSizes();\r\n        this.notify('progress');\r\n    }\r\n\r\n    private stopDragging() {\r\n        if (!this.isDragging) {\r\n            return;\r\n        }\r\n\r\n        this.areas.forEach(a => a.component.unlockEvents());\r\n\r\n        while (this.eventsDragFct.length > 0) {\r\n            const fct = this.eventsDragFct.pop();\r\n            if (fct) {\r\n                fct();\r\n            }\r\n        }\r\n\r\n        this.containerSize = 0;\r\n        this.areaASize = 0;\r\n        this.areaBSize = 0;\r\n\r\n        this.isDragging = false;\r\n        this._coverDisplay.next(\"none\");\r\n        \r\n        this._saveState();\r\n        this.notify('end');\r\n    }\r\n\r\n    private _saveState() {\r\n        if (this.saveStates)\r\n            this.splitStateService.saveState(this.areas.map(a => {\r\n                return {\r\n                    size: a.size,\r\n                    visible: a.component.visible\r\n                } as SplitAreaState;\r\n            }));\r\n    }\r\n\r\n    notify(type: string) {\r\n        const data: Array<number> = this.visibleAreas.map(a => a.size);\r\n\r\n        switch (type) {\r\n            case 'start':\r\n                return this.dragStart.emit(data);\r\n\r\n            case 'progress':\r\n                return this.dragProgress.emit(data);\r\n\r\n            case 'end':\r\n                return this.dragEnd.emit(data);\r\n\r\n            case 'visibleTransitionEnd':\r\n                return this._visibleTransitionEndSub.next(data);\r\n        }\r\n    }\r\n\r\n    public ngOnDestroy() {\r\n        this.stopDragging();\r\n    }\r\n}\r\n","import {\r\n    Directive, Input, Output, ElementRef, Renderer2, OnInit, OnDestroy,\r\n    EventEmitter\r\n} from '@angular/core';\r\n\r\nimport { SplitComponent } from './split.component';\r\n\r\n@Directive({\r\n    selector: 'split-area',\r\n    host: {\r\n        '[style.flex-grow]': '\"0\"',\r\n        '[style.flex-shrink]': '\"0\"',\r\n        '[style.overflow-x]': '\"hidden\"',\r\n        '[style.overflow-y]': '\"auto\"',\r\n        '[style.height]': '\"100%\"',\r\n        '[class.notshow]': '!visible',\r\n        '(transitionend)': 'onSizingTransitionEnd($event)'\r\n    }\r\n})\r\nexport class SplitAreaDirective implements OnInit, OnDestroy {\r\n\r\n    private _order: number | null = null;\r\n    @Input() set order(v: number) {\r\n        this._order = !isNaN(v) ? v : null;\r\n        this.split.updateArea(this, this._order, this._size, this._minSizePixel);\r\n    }\r\n\r\n    private _size: number | null = null;\r\n    @Input() set size(v: any) {\r\n        this._size = !isNaN(v) ? v : null;\r\n        this.split.updateArea(this, this._order, this._size, this._minSizePixel);\r\n    }\r\n\r\n    private _minSizePixel: number = 0;\r\n    @Input() set minSizePixel(v: number) {\r\n        this._minSizePixel = (!isNaN(v) && v > 0) ? v : 0;\r\n        this.split.updateArea(this, this._order, this._size, this._minSizePixel);\r\n    }\r\n\r\n    private _visible: boolean = true;\r\n    @Input() set visible(v: boolean) {\r\n        this.visibility = v ? \"block\" : \"none\";\r\n        this._visible = v;\r\n\r\n        if (this.visible) { \r\n            this.split.showArea(this);\r\n        } else {\r\n            this.split.hideArea(this);\r\n        }\r\n    }\r\n    get visible(): boolean {\r\n        return this._visible;\r\n    }\r\n\r\n    visibility: string = \"block\";\r\n\r\n    eventsLockFct: Array<Function> = [];\r\n\r\n    constructor(private elementRef: ElementRef,\r\n        private renderer: Renderer2,\r\n        private split: SplitComponent) { }\r\n\r\n    public ngOnInit() {\r\n        this.split.addArea(this, this._order, this._size, this._minSizePixel);\r\n    }\r\n\r\n    public lockEvents() {\r\n        this.eventsLockFct.push(this.renderer.listen(this.elementRef.nativeElement, 'selectstart', e => false));\r\n        this.eventsLockFct.push(this.renderer.listen(this.elementRef.nativeElement, 'dragstart', e => false));\r\n    }\r\n\r\n    public unlockEvents() {\r\n        while (this.eventsLockFct.length > 0) {\r\n            const fct = this.eventsLockFct.pop();\r\n            if (fct) {\r\n                fct();\r\n            }\r\n        }\r\n    }\r\n\r\n    public setStyle(key: string, value: any) {\r\n        this.renderer.setStyle(this.elementRef.nativeElement, key, value);\r\n    }\r\n\r\n    public ngOnDestroy() {\r\n        this.split.removeArea(this);\r\n    }\r\n\r\n    onSizingTransitionEnd(evt: TransitionEvent) {\r\n        //note that all css property transition end could trigger transitionend events\r\n        //this limit only flex-basis transition to trigger the event\r\n        if (!evt || evt.propertyName == \"flex-basis\")\r\n            this.split.notify(\"visibleTransitionEnd\");\r\n    }\r\n}\r\n","import { Directive, Input, ElementRef, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: 'split-gutter'\r\n})\r\nexport class SplitGutterDirective {\r\n\r\n    @Input() set order(v: number) {\r\n        this.setStyle('order', v);\r\n    }\r\n\r\n    private _direction: string;\r\n    @Input() set direction(v: string) {\r\n        this._direction = v;\r\n        this.refreshStyle();\r\n    }\r\n\r\n    @Input() set size(v) {\r\n        this.setStyle('flex-basis', v + 'px');\r\n    }\r\n\r\n    private _disabled: boolean = false;\r\n    @Input() set disabled(v: boolean) {\r\n        this._disabled = v;\r\n        this.refreshStyle();\r\n    }\r\n\r\n    constructor(private elementRef: ElementRef,\r\n                private renderer: Renderer2) {}\r\n\r\n    private refreshStyle() {\r\n        const state = this._disabled === true ? 'disabled' : this._direction;\r\n\r\n        this.setStyle('cursor', this.getCursor(state));\r\n        this.setStyle('background-image', `url(\"${ this.getImage(state) }\")`);\r\n    }\r\n\r\n    private setStyle(key: string, value: any) {\r\n        this.renderer.setStyle(this.elementRef.nativeElement, key, value);\r\n    }\r\n\r\n    private getCursor(state: string) {\r\n        switch(state) {\r\n            case 'disabled':\r\n                return 'default';\r\n\r\n            case 'vertical':\r\n                return 'row-resize';\r\n\r\n            case 'horizontal':\r\n                return 'col-resize';\r\n        }\r\n    }\r\n\r\n    private getImage(state: string) {\r\n        switch(state) {\r\n            case 'disabled':\r\n                return '';\r\n\r\n            case 'vertical':\r\n                return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC';\r\n\r\n            case 'horizontal':\r\n                return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==';\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { SplitComponent } from './split.component';\r\nimport { SplitAreaDirective } from './splitArea.directive';\r\nimport { SplitGutterDirective } from './splitGutter.directive';\r\nimport { SplitStateService } from './splitStateService';\r\nimport { CookieService } from './cookieService';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        SplitComponent,\r\n        SplitAreaDirective,\r\n        SplitGutterDirective\r\n    ],\r\n    exports: [\r\n        SplitComponent,\r\n        SplitAreaDirective,\r\n        SplitGutterDirective\r\n    ], \r\n    providers: [SplitStateService, CookieService]\r\n})\r\nexport class AngularSplitModule {}\r\n"]}